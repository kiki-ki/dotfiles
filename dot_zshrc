#!/bin/sh

### Init

[ -f /opt/homebrew/bin/brew ] && eval "$(/opt/homebrew/bin/brew shellenv)"
[ -f /opt/homebrew/bin/direnv ] && eval "$(direnv hook zsh)"
[ -f /opt/homebrew/bin/starship ] && eval "$(starship init zsh)"

## autocomplete

. ~/.zsh/zsh-autocomplete/zsh-autocomplete.plugin.zsh

## fzf

. <(fzf --zsh)

## rura

export CDPATH=".:$HOME/.rura"
alias rura!="cd -P"

## asdf

if [ -f /opt/homebrew/bin/asdf ]; then
  export PATH="${ASDF_DATA_DIR:-$HOME/.asdf}/shims:$PATH"
fi

### Aliases

## cd

alias ..="cd .."
alias ...="cd ../.."
alias ....="cd ../../.."
alias .....="cd ../../../.."

## ls

alias la="ls -a"
alias ll="ls -l"

## git

alias g="git"
alias gb="g branch"
alias gd="g diff"
alias gdt="g difftool"
alias ga="g add"
alias gc="g commit"
alias gf="g fetch"
alias gst="g status"
alias gco="g checkout"
alias gcp="g cherry-pick"
alias grb="g rebase"

## docker

alias d="docker"
alias dc="docker compose"

## terraform

alias tf="terraform"

## bundler

alias be="bundle exec"
alias bi="bundle install"
alias bu="bundle update"

## k8s

alias k="kubectl"

### Envs

export EDITOR=vi
export VISUAL=vi
export PAGER=less

export FZF_DEFAULT_OPTS='
  --height 40% --layout=reverse --border
  --preview "bat --color=always --style=numbers --line-range=:500 {}"
'

## go

[ -f /opt/homebrew/bin/go ] && export PATH="$PATH":"$(go env GOPATH)"/bin

### Final

[ -f ~/.zshrc.local ] && . ~/.zshrc.local

