# Init

## asdf
. /usr/local/opt/asdf/libexec/asdf.sh

# Funcs

## bookmarks
if [ -d "$HOME/.bookmarks" ]; then
  export CDPATH=".:$HOME/.bookmarks:/"
  alias goto="cd -P"
fi

function ba () {
  local current_dir=$(pwd)
  cd $1
  local bookmark_name=@$2
  local src=$(pwd)
  ln -is $src ~/.bookmarks/$bookmark_name
  cd $current_dir
  echo "success added bookmark. ($bookmark_name to $src)"
}

function bd () {
  local bookmark_name=@$1
  local bookmark_path=~/.bookmarks/$bookmark_name

  if [ ! -L $bookmark_path ]; then
    echo "no such link. ($bookmark_path)"
    echo "failed remove bookmark. ($bookmark_name)"
    return
  fi

  echo -n "remove $bookmark_name?: "
  read yn

  if [ ! "$yn" = "Y" -o "$yn" = "y" ]; then
    echo "canceled remove bookmark. ($bookmark_name)"
    return
  fi

  local src=$(readlink $bookmark_path)
  unlink $bookmark_path
  echo "success remove bookmark. ($bookmark_name to $src)"
}

# Evals

eval "$(direnv hook zsh)"

# Aliases

## cd
alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'
alias .....='cd ../../../..'

## git
alias g='git'
alias gb='g branch'
alias gd='g diff'
alias ga='g add'
alias gc='g commit'
alias gf='g fetch'
alias gst='g status'
alias gco='g checkout'
alias gcp='g cherry-pick'
alias grb='g rebase'

## docker
alias d='docker'
alias dc='docker compose'

## terraform
alias tf='terraform'

## bookmarks
alias bl="ls ~/.bookmarks/"
alias bll="ls -l ~/.bookmarks/"

## bundle
alias be='bundle exec'
alias bi='bundle install'
alias bu='bundle update'

# Envs

export EDITOR=vi
export VISUAL=vi
export PAGER=less

## go
export PATH=$PATH:$(go env GOPATH)/bin


# Load local settings

[ -f ~/.zshrc.local ] && source ~/.zshrc.local

