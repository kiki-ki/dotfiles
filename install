#! /usr/bin/env sh

set -eu

if [ "$(sudo echo hi)" != hi ]; then
  echo "Cannot use sudo."
else
  if [ -x "$(command -v apt-get)" ]; then
    sudo apt-get update
    sudo apt-get install build-essential curl file git procps -y
  fi

  if [ -x "$(command -v brew)"]; then
    echo "Skip Homebrew command installation."
  else
    /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
  fi

  brew bundle --file ~/.Brewfile.ubuntu

  asdf plugin add nodejs https://github.com/asdf-vm/asdf-nodejs.git
  asdf install nodejs latest
fi

